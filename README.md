<h1 align="center">Affordit Api Github Pages</h1>

<!-- ABOUT THE PROJECT -->
## About The Project

Contains source for the Affordit Loan Insights Portal static API docs.

<!-- HOWTO -->
## The Guide To Hosting Your Swagger Doc
Pre-reqs, download [ruby version 2.6.8-1](https://rubyinstaller.org/downloads/). Specified version is important because there's an [issue](https://github.com/slatedocs/slate/issues/1438) on Windows with later versions.

1. Download the swagger definition json from the Loan Insights Portal (Swashbuckle page)
2. Pipe this through widdershins (https://github.com/Mermade/widdershins#options). You can find the `widdershins_env.json` in the tools folder.
	> widdershins --environment widdershins_env.json swagger_def.json -o index.html.md
3. Now we're in the slate domain (https://github.com/slatedocs/slate)
   - following guide, fork slate repo (This step is already done and exists as a project within this organization https://github.com/AfforditApi/slate) So rather 
   - `> cd slate`
   - copy `index.html.md` generated by widdershins to /source
   - `> bundle install`
   - `> bundle exec middleman build`
   - optionally, to have live running server `> bundle exec middleman server`
4. After the build command we can put the file contents inside the build directory onto this repo.
5. And done!

Now for partials, i.e. how to include additional markdown to the API doc.

1. Rename the `index.html.md` file in the slate repo to `index.html.md.erb`
2. Each additional document needs a partial, like so `<%= partial "./includes/spec.md" %>`. Just add that to the end of the index document.
3. Now the spec.md file needs to be added to the includes folder.
